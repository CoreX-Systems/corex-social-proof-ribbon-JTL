<div id="corex-ribbon-proof" style="display: none; position: fixed; bottom: 25px; right: 25px; z-index: 10000; background: #ffffff; border-radius: 12px; box-shadow: 0 12px 40px rgba(0,0,0,0.15); padding: 15px; font-family: sans-serif; width: 340px; border: 1px solid #f0f0f0;">
    <div style="display: flex; align-items: center; gap: 15px;">
        <div style="width: 50px; height: 50px; background: #fff9c4; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0; border: 1px solid #fbc02d;">
            ‚≠ê
        </div>
        <div style="flex-grow: 1; overflow: hidden;">
            <div id="crp-title" style="font-size: 13px; font-weight: 700; color: #f57f17; margin-bottom: 2px;"></div>
            <div id="crp-text" style="font-size: 12px; color: #444; line-height: 1.3;"></div>
        </div>
        <button onclick="document.getElementById('corex-ribbon-proof').style.display='none'" style="background:none; border:none; color:#ddd; cursor:pointer; font-size:20px; align-self: flex-start; line-height: 1;">&times;</button>
    </div>
</div>

<script>
(function() {
    var config = {
        searchText: "Top bewertet",
        displayTitle: "Kundenliebling",
        displayText: "Dieser Artikel ist <span style='font-weight: 800; color: #000;'>hervorragend bewertet</span> und bei unseren Kunden sehr beliebt.",
        displayTime: 12000,
        startTime: 3000
    };

    var ribbons = document.querySelectorAll('.productbox-ribbon');
    var matchFound = false;

    ribbons.forEach(function(ribbon) {
        if (ribbon.innerText.includes(config.searchText)) {
            matchFound = true;
        }
    });

    if (matchFound) {
        var bubble = document.getElementById('corex-ribbon-proof');
        document.getElementById('crp-title').innerText = config.displayTitle;
        document.getElementById('crp-text').innerHTML = config.displayText;
        
        function showOnce() {
            bubble.style.display = 'block';
            bubble.style.animation = 'corexIn 0.6s ease-out forwards';

            setTimeout(function() {
                bubble.style.animation = 'corexOut 0.5s ease-in forwards';
            }, config.displayTime);
        }

        var style = document.createElement('style');
        style.innerHTML = '@keyframes corexIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } } @keyframes corexOut { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(20px); } }';
        document.head.appendChild(style);

        setTimeout(showOnce, config.startTime);
    }
})();
</script>
